import { useInfiniteQuery } from '@tanstack/react-query'
import api from '../api'

// Hook para paginação de terrenos com lazy loading
export function useInfiniteTerrains(limit = 10) {
  return useInfiniteQuery({
    queryKey: ['terrains', limit],
    queryFn: async ({ pageParam = 0 }) => {
      const { data } = await api.get(`/async/terrains?skip=${pageParam}&limit=${limit}`)
      return data
    },
    getNextPageParam: (lastPage, allPages) =>
      lastPage.length === limit ? allPages.length * limit : undefined,
  })
}
